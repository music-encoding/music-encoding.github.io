<div>
    <p class="tutorialGoal">Paso doce: añadir el último detalle que falta en el ejemplo, la ligadura en el tercer compás.</p>

    <p>Hay dos formas diferentes de codificar una ligadura en MEI:</p>
    <ol>
        <li>el atributo <code>@slur</code> en <code>&lt;note&gt;</code> o <code>&lt;chord&gt;</code> con un valor de <code>i=initial</code>, <code>m=medial</code> o <code>t=terminal</code>.</li>
        <li>Un elemento separado <code>&lt;slur&gt;</code>.</li>
    </ol>

    <p>En este último paso, se utilizará el segundo enfoque: Al igual que las dinámicas, los elementos <code>&lt;slur&gt;</code> (ligaduras) son <i>eventos de control</i>. No se codifican como elementos hijos de los eventos correspondientes que deben controlar, sino que se colocan en la mayoría de los casos fuera de los elementos <code>staff</code>.
        Para permitir un control preciso sobre la ubicación de la ligadura en relación al pentagrama, se puede usar el atributo <code>@staff</code>. Este atributo identifica el número del pentagrama al que se aplica el elemento <code>&lt;slur&gt;</code>.</p>

    <p>Para indicar el punto inicial y el punto final de la ligadura,  se pueden usar los atributos <code>@startid</code> y <code>@endid</code>. 
        Para hacerlo, los valores de los atributos <code>@startid</code> y <code>@endid</code> deben hacer referencia al valor del atributo <code>@xml:id</code> de los elementos donde comienza y termina la ligadura.
        Los <code>@xml:id</code> son identificadores con una secuencia de caracteres arbitraria pero única que regularizan la denominación de un elemento a lo largo de un documento
        y así facilitan la creación de enlaces entre elementos y otros recursos. Este es un mecanismo de referencia común en XML: aplicar un <code>@xml:id</code> a un elemento y referenciarlo desde otro elemento.</p>
<p>En el caso de una ligadura <code>&lt;slur&gt;</code>, el atributo <code>@startid</code> hace referencia al <code>@xml:id</code> del elemento donde la ligadura inicia y el atributo <code>@endid</code> hace referencia al <code>@xml:id</code> del elemento donde la ligadura termina.</p>
    <p>Por ejemplo, si tienes un elemento <code>&lt;note&gt;</code> con un <code>@xml:id</code> de "note-1" y otro elemento <code>&lt;note&gt;</code> con un <code>@xml:id</code> de "note-2", 
        puedes crear un <code>&lt;slur&gt;</code> que comienza en la primera nota y termina en la segunda nota configurando el atributo <code>@startid</code> a "#note-1" y el atributo <code>@endid</code> a "#note-2". 
        Nota que el hash de referencia <code>#</code> solo se usa con los atributos de referencia, no con los <code>@xml:id</code> en sí mismos:</p>
    
    <p>
        <code>&lt;note xml:id="note-1" pname="g" oct="4" dur="4"/&gt;</code><br>
        <code>&lt;note xml:id="note-2" pname="a" oct="4" dur="4"/&gt;</code><br>
        <code>...</code><br>
        <code>&lt;slur staff="1" curvedir="above" startid="#note-1" endid="#note-2"/&gt;</code>
    </p>

    <p>Debido a que las ligaduras pueden estar curvadas en diferentes direcciones, el atributo <code>@curvedir</code> describe una curva con un término genérico que indica la dirección de la curvatura de la ligadura: <code>“above”</code>, <code>“below”</code> o <code>“mixed”</code>.</p>
    
    <p>Así que los siguientes atributos deben usarse con el elemento <code>&lt;slur&gt;</code> en este paso:</p>
    <ul>
        <li><code>@staff</code> - el número de identificación del pentagrama al que se aplica un elemento, por ejemplo, <code>"1"</code> en este caso,</li>
        <li><code>@startid</code> - referencia al <code>xml:id</code> de la nota de inicio de la ligadura, de la forma: <code>#xml:id</code> (nótese el signo <code>#</code>),</li>
        <li><code>@endid</code> - referencia al <code>xml:id</code> de la nota final de la ligadura, de la forma: <code>#xml:id</code> (nótese el signo <code>#</code>).</li>
        <li><code>@curvedir</code> (dirección de la curva) - describe una curva con un término genérico que indica la dirección de la curvatura: <code>”above"</code>, <code>"below"</code> o <code>"mixed"</code>,</li>
    </ul>

    <p class="tutorialTask">Identifica la primera y la última nota que forman parte de la ligadura (dentro del primer elemento <code>&lt;beam&gt;</code> del compás 3) y añade <code>@xml:id</code>s a ambos elementos <code>&lt;note&gt;</code>. 
        Estos deben ser valores únicos para cada <code>@xml:id</code>, por lo que para este ejemplo usamos los valores: <code>"d4567"</code> para el <code>xml:id</code> de la nota inicial y <code>"d4568"</code> para el <code>xml:id</code> de la nota final. 
        Añade un elemento de control <code>&lt;slur&gt;</code> después de la etiqueta de cierre del elemento <code>&lt;staff&gt;</code> y aplica los atributos correspondientes.</p>
</div>
