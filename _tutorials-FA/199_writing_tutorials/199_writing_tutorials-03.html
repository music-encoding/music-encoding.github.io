
<div>
    <p>
        در فایل <a href="https://en.wikipedia.org/wiki/JSON" target="_blank">JSON</a>، محتوای یک آموزش هماهنگ
        می‌شود. این فایل شامل یک شیء (object) با چندین ویژگی (property) است. بیایید به -یک نسخه ساده‌شده از- این
        آموزش فعلی نگاهی بیندازیم:</p>
    <pre class="codeblock">{
  "steps": [
    {
        "label":"Welcome",<br>        "descFile": "writingTutorials-01.html"
    },
    {
        "label":""Website Setup",<br>        "descFile": "writingTutorials-02.html"
    },
    
    <span class="text-gray"><i>… مراحل بیشتری در اینجا اضافه خواهد شد …</i></span>
    
  ],
  "end":"writingTutorials-end.html",
  "resp":[
    {
        "name":"Johannes Kepper",
        "affiliation":"Beethovens Werkstatt | Universität Paderborn"
    }
  ]
}</pre>
    <label>tutorials.json</label>
    <p>
        سه خصیصه مهم در اینجا وجود دارد. اولین خصیصه، <code>"steps"</code>، برای توصیف مراحل مختلف در یک آموزش
        استفاده می‌شود. به این موضوع در ادامه بازمی‌گردیم. خصیصه بعدی، <code>"end"</code>، یک فایل را مشخص می‌کند که
        صفحه پایانی یک آموزش در آن ارائه می‌شود. در نهایت، خصیصه <code>"resp"</code> وجود دارد. در این آرایه، شما
        باید نام و وابستگی خود را وارد کنید. به این ترتیب، نه تنها سعی می‌کنیم فردی را به‌عنوان تماس در صورت بروز
        سؤال شناسایی کنیم، بلکه همچنین اطلاعات شناسایی عمومی برای کاری که در MEI انجام می‌دهید ارائه دهیم. اگر روی یک
        آموزش به‌صورت گروهی کار کرده‌اید، می‌توانید همه افراد را وارد کنید. پس چرا از برخی از دانشجویان خود نخواهید
        که روی این آموزش‌ها کار کنند؟
    </p>
    <h1>مراحل</h1>
    <p>
        برگردیم به خصیصه steps. این یک آرایه (array) از اشیاء است که هر کدام یک مرحله از آموزش را توصیف می‌کنند.
        تنها خصیصه‌ای که به‌طور قطع لازم است، <code>"descFile"</code> است. در اینجا باید نام یک فایل HTML را که شامل
        دستورالعمل‌های این مرحله است ارائه کنید. اساساً، این همان چیزی است که در حال حاضر می‌خوانید. این فایل یک
        فایل HTML کامل نیست؛ باید با یک المنت <code>&lt;div&gt;</code> ریشه شروع شود و شامل HTML ساده باشد.
        خصیصه بعدی، <code>"label"</code>، اختیاری است. اگر آن را ارائه نکنید، مرحله بر اساس موقعیتش نام‌گذاری می‌شود
        (مثلاً "مرحله ۳" یا مشابه آن).
    </p>
    <p>
        بدیهی است که یک آموزش نباید فقط متن ساده باشد (که این تنظیمات را توجیه نمی‌کند…). گاهی ممکن است بخواهید
        کاربر واقعاً چیزهایی را کدگذاری کند. بیایید نگاهی به تعریف چنین "مرحله‌ای" بیندازیم:
    </p>
    <pre class="codeblock">{
    <span class="text-gray">"label":"یک مرحله نمونه",</span>
    <span class="text-gray">"descFile": "step-instructions.html",</span>
    "xmlFile": "encoding.xml",
    "xpaths": [
        {
            "rule":"count(//mei:note) = 1",
            "renderanyway":false
        },
        {
            "rule":"//mei:note/@pname = 'g'",
            "renderanyway":true,
            "hint":"شما به یک خصیصه @pname با مقدار g نیاز دارید."
        }
    ],
    "editorLines":3,
    "prefillFile":"prefill.xml"
}</pre>
    <label>تعریف یک مرحله آموزشی که شامل یک مولفه ویرایشگر است، برای اضافه شدن در آرایه "steps" در tutorials.json
    </label>
    <p>
        دو خصیصه‌ای که قبلاً می‌شناسیم به رنگ خاکستری نمایش داده شده‌اند، نیازی نیست که به آن‌ها بازگردیم. اگر یک
        مرحله شامل هر دو خصیصه <code>"xmlFile"</code> و <code>"xpaths"</code> باشد، یک ویرایشگر نمایش داده خواهد شد.
        در همین حال، دکمه "ادامه" در گوشه پایین سمت راست ناپدید خواهد شد. برای ادامه، کاربر اکنون باید
        دستورالعمل‌های شما را دنبال کند و کد MEI را در ویرایشگر وارد کند. برای تصمیم‌گیری درباره موفقیت یا شکست
        کاربر، باید تعدادی قوانین <a href="https://en.wikipedia.org/wiki/XPath" target="_blank">XPath</a> ارائه
        کنید. XPath خود در یک خصیصه <code>"rule"</code> ذخیره می‌شود. باید یک مقدار بولیَن (یعنی <i>true</i> یا
        <i>false</i>) بازگرداند. اگر می‌خواهید کاربر را راهنمایی کنید، می‌توانید یک خصیصه <code>"hint"</code> ارائه
        دهید. اگر محتوای ویرایشگر با یک قانون XPath مطابقت نداشته باشد، پیام هشدار آن به‌صورت یک جعبه زیر ویرایشگر
        نمایش داده می‌شود. قوانین XPath به ترتیب بررسی می‌شوند و بررسی بیشتر با هر قانون نادرستی متوقف می‌شود. اگر
        همه قوانین مطابقت داشته باشند، آموزش به‌طور خودکار به مرحله بعدی ادامه می‌یابد.
    </p>
    <p>
        خصیصه <code>"renderanyway"</code> یک قانون XPath زمانی مفید است که بخواهید کاربر با کدگذاری "بازی کند".
        به‌طور عادی، ورودی کاربر تنها زمانی رندر می‌شود که همه قوانین XPath مطابقت داشته باشند. با این حال، ممکن است
        از کاربر بخواهید که زیر و بمی‌های مختلف را امتحان کند و بگویید که تور زمانی ادامه می‌یابد که یک زیر و بمی
        خاص وارد شود. سپس می‌توانید <code>"renderanyway"</code> را به <code>true</code> تنظیم کنید، و Verovio تلاش
        خواهد کرد تا بهترین نتیجه را برای رندر ورودی فعلی کاربر ارائه دهد. این رفتار در قانون دوم XPath بالا
        پیاده‌سازی شده است.
    </p>
    <p>
        خصیصه <code>"xmlfile"</code> یک فایل را مشخص می‌کند که به‌عنوان زمینه برای ویرایشگر استفاده می‌شود. در مرحله
        بعدی این آموزش، این موضوع را با جزئیات بیشتری توضیح خواهیم داد. دو خصیصه دیگر نیز ممکن است مفید باشند. با
        خصیصه <code>"editorLines"</code> می‌توانید ارتفاع پنجره ویرایشگر را مشخص کنید. اگر آن را ارائه نکنید، یک
        ارتفاع پیش‌فرض <i>5</i> خط فرض خواهد شد. در نهایت، می‌توانید در ابتدای یک مرحله ویرایشگر را با محتوای یک
        فایلی که با خصیصه <code>"prefillFile"</code> مشخص کرده‌اید پر کنید. اگر آن را ارائه نکنید، ویرایشگر ورودی‌ای
        که کاربر در مرحله قبلی وارد کرده است را نگه می‌دارد (یا در مرحله اول خالی خواهد بود).
    </p>
</div>
