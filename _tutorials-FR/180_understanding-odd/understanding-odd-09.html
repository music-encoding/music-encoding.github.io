<div>
  <p>
    La dernière partie de ce tutoriel traite des macros. S'il ne s'agit pas de l'aspect le plus 
    important, il faut tout de même le connaître pour bien comprendre toutes les spécifications de la MEI. 
    Les macros sont des espaces réservés pour des éléments qui
    peuvent être ajoutés au <em>&lt;content&gt;</em> d'un élément en une seule
    fois. La macro la plus utilisée est probablement
    <em>macro.struc-unstrucContent</em> qui est définie comme suit :
  </p>
  <pre class="codeblock">
&lt;macroSpec ident="macro.struc-unstrucContent" module="MEI.shared" type="pe"&gt;
        &lt;desc&gt;Fournit un choix entre un contenu structuré et un contenu non structuré/mixte.&lt;/desc&gt;
        &lt;content&gt;
            &lt;rng:choice&gt;
                &lt;rng:group&gt;
                    &lt;rng:zeroOrMore&gt;
                        &lt;rng:ref name="model.headLike" /&gt;
                    &lt;/rng:zeroOrMore&gt;
                    &lt;rng:zeroOrMore&gt;
                        &lt;rng:ref name="model.pLike" /&gt;
                    &lt;/rng:zeroOrMore&gt;
                &lt;/rng:group&gt;
                &lt;rng:zeroOrMore&gt;
                    &lt;rng:choice&gt;
                        &lt;rng:text/&gt;
                        &lt;rng:ref name="model.textPhraseLike.limited" /&gt;
                    &lt;/rng:choice&gt;
                &lt;/rng:zeroOrMore&gt;
            &lt;/rng:choice&gt;
        &lt;/content&gt;
    &lt;/macroSpec&gt;</pre
  >
  <p>
    Les macros utilisent à nouveau l'élément
    <a
      href="https://tei-c.org/release/doc/tei-p5-doc/en/html/ref-macroSpec.html"
      target="_blank"
      rel="noopener, noreferrer"
      ><em>&lt;macroSpec&gt;</em></a
    >, mais cette fois avec un <em>@type</em> ayant la valeur « <em>pe</em> ». Les
    noms, qui sont à nouveau stockés dans <em>@ident</em>, sont préfixés par
    « <em>macro.</em> » et, bien sûr, nous avons à nouveau une balise
    <em>&lt;desc&gt;</em>. La principale différence par rapport aux
    <em>classes de modèle</em> est que les <em>macros</em> ne substituent pas
    seulement des éléments, mais aussi des règles plus complexes sur les
    combinaisons d'éléments. Ici, <em>macro.struc-unstrucContent</em> fournit un
    bon exemple. Elle force l'<em>utilisateur</em> à choisir entre un modèle
    d'encodage structuré (utilisant un élément <em>&lt;head&gt;</em> dédié,
    suivi d'une série de paragraphes) ou un modèle non structuré (où le contenu
    textuel est inséré directement et peut être balisé avec divers éléments).
    Elle peut être utilisée à l'intérieur d'éléments tels que
    <em>&lt;watermark&gt;</em> et elle est utile pour éviter de devoir
    redéfinir la même combinaison d'éléments à de nombreux endroits.
  </p>
  <pre class="codeblock">
&lt;elementSpec ident="watermark" module="MEI.header"&gt;
    &lt;desc&gt;Contient une description d'un filigrane ou d'un dispositif similaire.&lt;/desc&gt;
    &lt;classes&gt;
        &lt;!--  les appartenances de classes sont volontairement omises ici --&gt;
    &lt;/classes&gt;
    &lt;content&gt;
        &lt;rng:ref name="macro.struc-unstrucContent" /&gt;
    &lt;/content&gt;
    &lt;!-- remarques omises pour des raisons de brièveté --&gt;
&lt;/elementSpec&gt;</pre
  >
  <p>
    En substance, l'élément <em>&lt;rng:ref&gt;</em> à l'intérieur de
    <em>&lt;elementSpec&gt;</em> est simplement remplacé par les éléments
    enfants du <em>&lt;content&gt;</em> du <em>&lt;macroSpec&gt;</em>, de sorte
    qu'il est possible de combiner une <em>macro</em> avec d'autres contenus.
    Les <em>macros</em> servent donc de blocs de spécifications prédéfinis et
    réutilisables.
  </p>
  <p>
    Comme nous l'avons mentionné plus tôt, les <em>macros</em> ne sont pas l'aspect
    le plus important de l'ODD du point de vue de la MEI. Ce petit point devrait donc
    vous avoir enseigné le nécessaire. Nous pouvons donc conclure par quelques remarques...
  </p>
</div>
